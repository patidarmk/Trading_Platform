"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[602],{192:(e,t,r)=>{r.d(t,{cn:()=>s});function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}},5113:(e,t,r)=>{function s(e,t){var r,s,i;let{side:a,quantity:l,orderType:d,price:n}=t,c="Buy"===a?e.asks:e.bids,o=l,u=0,x=0;for(let e of c){let t=e.price,r=e.quantity;if("Limit"===d&&("Buy"===a&&t>(null!=n?n:1/0)||"Sell"===a&&t<(null!=n?n:0)))break;let s=Math.min(o,r);if(x+=s*t,u+=s,(o-=s)<=0)break}let m=u>0?x/u:0,h=null!=(i=null==(r=c[0])?void 0:r.price)?i:1,p=u>0?(m-h)/h*100:0,b=u>0?((null==(s=c[Math.min(5,c.length-1)])?void 0:s.price)-h)/h:0,g=u/l*100;return{filledQuantity:u,averageFillPrice:m,slippage:p,marketImpact:b,fillPercentage:g}}function i(e,t){let r=0;return[...e].sort((e,r)=>"bid"===t?r.price-e.price:e.price-r.price).map(e=>(r+=e.quantity,{...e,total:r}))}r.d(t,{E:()=>i,p:()=>s})},7057:(e,t,r)=>{r.d(t,{w:()=>s});let s=(0,r(5453).v)((e,t)=>({data:{OKX:{},Bybit:{},Deribit:{}},setOrderbook:(t,r,s,i)=>{e(e=>({data:{...e.data,[t]:{...e.data[t],[r]:{bids:s,asks:i,lastUpdated:Date.now()}}}}))},getOrderbook:(e,r)=>{var s;return null==(s=t().data[e])?void 0:s[r]}}))},8506:(e,t,r)=>{r.d(t,{A:()=>f});var s=r(5155),i=r(7057),a=r(3559),l=r(4474),d=r(5240),n=r(6025),c=r(2071),o=r(8301),u=r(7156),x=r(2115);let m=e=>{let{depthData:t}=e,r=t.filter(e=>"bid"===e.side),i=t.filter(e=>"ask"===e.side);return(0,s.jsxs)("div",{className:"w-full h-64 p-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Market Depth Chart"}),(0,s.jsx)(l.u,{width:"100%",height:"100%",children:(0,s.jsxs)(d.Q,{children:[(0,s.jsx)(n.W,{dataKey:"price",type:"number",domain:["auto","auto"],tickFormatter:e=>e.toFixed(2)}),(0,s.jsx)(c.h,{dataKey:"cumulativeSize",tickFormatter:e=>"".concat(e)}),(0,s.jsx)(o.m,{formatter:(e,t)=>[e,"cumulativeSize"===t?"Size":t]}),(0,s.jsx)(u.Gk,{type:"stepAfter",dataKey:"cumulativeSize",data:r,stroke:"#22c55e",fill:"#22c55e40",name:"Bids"}),(0,s.jsx)(u.Gk,{type:"stepAfter",dataKey:"cumulativeSize",data:i,stroke:"#ef4444",fill:"#ef444440",name:"Asks"})]})})]})},h=e=>{let{totalBids:t,totalAsks:r}=e,i=t/(t+r)*100,a=100-i;return(0,s.jsxs)("div",{className:"w-full max-w-xl mx-auto p-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Order Book Imbalance"}),(0,s.jsxs)("div",{className:"flex h-6 w-full rounded overflow-hidden shadow-md border border-gray-300",children:[(0,s.jsxs)("div",{className:"bg-green-500 text-white text-xs flex items-center justify-end pr-2",style:{width:"".concat(i,"%")},children:[i.toFixed(1),"%"]}),(0,s.jsxs)("div",{className:"bg-red-500 text-white text-xs flex items-center justify-start pl-2",style:{width:"".concat(a,"%")},children:[a.toFixed(1),"%"]})]})]})};var p=r(192);x.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)(a.B8,{ref:t,className:(0,p.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...i})}).displayName="TabsList",x.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)(a.l9,{ref:t,className:(0,p.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all","data-[state=active]:bg-background data-[state=active]:text-foreground","data-[state=inactive]:text-muted-foreground hover:text-foreground",r),...i})}).displayName="TabsTrigger";let b=x.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,s.jsx)(a.UC,{ref:t,className:(0,p.cn)("mt-2 rounded-md border border-border p-4",r),...i})});b.displayName="TabsContent";var g=r(9807),y=r(5113);function f(e){let{venue:t,symbol:r,simulatedOrder:l}=e,d=(0,i.w)(e=>e.getOrderbook(t,r));if(!d)return(0,s.jsxs)("div",{className:"text-gray-400",children:["Loading orderbook for ",t," ",r,"..."]});let{bids:n,asks:c}=d,o=l?[{label:"Immediate",delay:0},{label:"After 5s",delay:5},{label:"After 10s",delay:10},{label:"After 30s",delay:30}].map(e=>({...e,result:(e=>{let t=(e,t)=>e.map((e,r)=>({price:parseFloat((e.price*(1+t)).toFixed(2)),quantity:Math.max(e.quantity+Math.floor(3*Math.random()-1),1)})),r=2e-4*e,s=t(n,-r),i=t(c,r);return(0,y.p)({bids:s,asks:i},l)})(e.delay)})):[],{price:u,quantity:p,side:f,orderType:j}=l||{},v=n.reduce((e,t)=>e+t.quantity,0),N=c.reduce((e,t)=>e+t.quantity,0),[w,k]=(0,x.useState)("Immediate"),D=(e,t,r)=>!!l&&!!u&&!!p&&"Market"!==j&&("Buy"===f&&r?u>=e.price&&t===q(n,u):"Sell"===f&&!r&&u<=e.price&&t===q(c,u)),q=(e,t)=>{for(let r=0;r<e.length;r++)if(e===n&&t>=e[r].price||e===c&&t<=e[r].price)return r;return e.length},S=((e,t)=>{let r=[],s=[],i=0;for(let t of e)i+=t.quantity,r.push({price:t.price,cumulativeSize:i,side:"bid"});let a=0;for(let e of t)a+=e.quantity,s.push({price:e.price,cumulativeSize:a,side:"ask"});return[...r,...s]})(n.slice(0,15),c.slice(0,15));return(0,s.jsxs)("div",{className:"flex flex-col gap-6 p-2 bg-gray-800 text-gray-200 rounded-lg shadow-lg  max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-4 shadow",children:[(0,s.jsx)("h3",{className:"text-green-400 font-semibold text-lg mb-2",children:"\uD83D\uDCD8 Bids"}),(0,s.jsxs)("table",{className:"w-full text-sm text-right",children:[(0,s.jsx)("thead",{className:"text-gray-400 border-b border-gray-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"pb-1",children:"Price"}),(0,s.jsx)("th",{className:"pb-1",children:"Quantity"})]})}),(0,s.jsx)("tbody",{className:"text-green-300",children:n.slice(0,15).map((e,t)=>{let r=D(e,t,!0);return(0,s.jsxs)("tr",{className:"transition ".concat(r?"bg-green-700/30 font-semibold":"hover:bg-green-800/10"),children:[(0,s.jsx)("td",{className:"py-1",children:e.price.toFixed(2)}),(0,s.jsx)("td",{className:"py-1",children:e.quantity})]},e.price)})})]})]}),(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-4 shadow",children:[(0,s.jsx)("h3",{className:"text-red-400 font-semibold text-lg mb-2",children:"\uD83D\uDCD5 Asks"}),(0,s.jsxs)("table",{className:"w-full text-sm text-right",children:[(0,s.jsx)("thead",{className:"text-gray-400 border-b border-gray-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"pb-1",children:"Price"}),(0,s.jsx)("th",{className:"pb-1",children:"Quantity"})]})}),(0,s.jsx)("tbody",{className:"text-red-300",children:c.slice(0,15).map((e,t)=>{let r=D(e,t,!1);return(0,s.jsxs)("tr",{className:"transition ".concat(r?"bg-red-700/30 font-semibold":"hover:bg-red-800/10"),children:[(0,s.jsx)("td",{className:"py-1",children:e.price.toFixed(2)}),(0,s.jsx)("td",{className:"py-1",children:e.quantity})]},e.price)})})]})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(m,{depthData:S})}),(0,s.jsx)("div",{children:(0,s.jsx)(h,{totalBids:v,totalAsks:N})}),o.length>0&&(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsxs)(a.tU,{defaultValue:"Immediate",className:"w-full",children:[(0,s.jsx)(a.j7,{className:"flex gap-2 bg-gray-800 p-1 rounded",children:o.map(e=>(0,s.jsx)(a.Xi,{value:e.label,children:e.label},e.label))}),o.map(e=>{let{label:t,result:r}=e;return(0,s.jsxs)(b,{value:t,children:[(0,s.jsxs)("div",{className:"mt-4 bg-gray-900 border border-gray-700 rounded-lg p-4 shadow space-y-2 text-sm text-gray-300",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"\uD83E\uDDEE Filled Quantity"}),(0,s.jsx)("span",{children:r.filledQuantity.toFixed(2)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"\uD83D\uDCB0 Avg Fill Price"}),(0,s.jsx)("span",{children:r.averageFillPrice.toFixed(2)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"\uD83D\uDCC9 Slippage"}),(0,s.jsxs)("span",{className:r.slippage>1?"text-yellow-400":"text-green-400",children:[r.slippage.toFixed(2),"%"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"\uD83D\uDCCA Market Impact"}),(0,s.jsxs)("span",{children:[(100*r.marketImpact).toFixed(2),"%"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"\uD83D\uDCE6 Fill %"}),(0,s.jsxs)("span",{children:[r.fillPercentage.toFixed(2),"%"]})]})]}),0===r.filledQuantity&&"Limit"===j&&(0,s.jsx)("p",{className:"text-red-400 mt-2",children:"❗ Your limit price is too far from the current book — no fill."})]},t)})]})}),(0,s.jsx)(g.A,{active:w,onSelect:k})]})}},9563:(e,t,r)=>{r.d(t,{A:()=>n});var s=r(5155),i=r(7129),a=r(2177),l=r(2461);let d=i.Ik({venue:i.Yj().oneOf(["OKX","Bybit","Deribit"]).required(),symbol:i.Yj().required("Symbol is required"),orderType:i.Yj().oneOf(["Market","Limit"]).required(),side:i.Yj().oneOf(["Buy","Sell"]).required(),quantity:i.ai().typeError("Quantity must be a number").positive("Must be greater than 0").required("Quantity required"),price:i.ai().typeError("Price must be a number").positive("Price must be > 0").when("orderType",{is:"Limit",then:e=>e.required("Price is required for limit orders"),otherwise:e=>e.notRequired()}),delay:i.ai().oneOf([0,5,10,30]).required()});function n(e){var t,r,i,n,c,o,u;let{onSubmitSim:x}=e,{register:m,handleSubmit:h,watch:p,formState:{errors:b}}=(0,a.mN)({resolver:(0,l.t)(d),defaultValues:{venue:"OKX",symbol:"BTC-USDT",orderType:"Limit",side:"Buy",quantity:1,price:3e4,delay:0}}),g=p("orderType");return(0,s.jsxs)("form",{onSubmit:h(x),className:"grid gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 text-gray-300",children:"Venue"}),(0,s.jsxs)("select",{...m("venue"),className:"w-full bg-gray-900 border border-gray-700 px-3 py-2 rounded text-white",children:[(0,s.jsx)("option",{value:"OKX",children:"OKX"}),(0,s.jsx)("option",{value:"Bybit",children:"Bybit"}),(0,s.jsx)("option",{value:"Deribit",children:"Deribit"})]}),(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null==(t=b.venue)?void 0:t.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 text-gray-300",children:"Symbol"}),(0,s.jsx)("input",{...m("symbol"),className:"w-full bg-gray-900 border border-gray-700 px-3 py-2 rounded text-white",placeholder:"e.g. BTC-USDT"}),(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null==(r=b.symbol)?void 0:r.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 text-gray-300",children:"Order Type"}),(0,s.jsxs)("select",{...m("orderType"),className:"w-full bg-gray-900 border border-gray-700 px-3 py-2 rounded text-white",children:[(0,s.jsx)("option",{value:"Market",children:"Market"}),(0,s.jsx)("option",{value:"Limit",children:"Limit"})]}),(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null==(i=b.orderType)?void 0:i.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 text-gray-300",children:"Side"}),(0,s.jsxs)("select",{...m("side"),className:"w-full bg-gray-900 border border-gray-700 px-3 py-2 rounded text-white",children:[(0,s.jsx)("option",{value:"Buy",children:"Buy"}),(0,s.jsx)("option",{value:"Sell",children:"Sell"})]}),(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null==(n=b.side)?void 0:n.message})]}),"Limit"===g&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 text-gray-300",children:"Price"}),(0,s.jsx)("input",{type:"number",step:"0.01",...m("price"),className:"w-full bg-gray-900 border border-gray-700 px-3 py-2 rounded text-white"}),(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null==(c=b.price)?void 0:c.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 text-gray-300",children:"Quantity"}),(0,s.jsx)("input",{type:"number",step:"0.0001",...m("quantity"),className:"w-full bg-gray-900 border border-gray-700 px-3 py-2 rounded text-white"}),(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null==(o=b.quantity)?void 0:o.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-1 text-gray-300",children:"Execution Delay"}),(0,s.jsxs)("select",{...m("delay"),className:"w-full bg-gray-900 border border-gray-700 px-3 py-2 rounded text-white",children:[(0,s.jsx)("option",{value:0,children:"Immediate"}),(0,s.jsx)("option",{value:5,children:"5 seconds"}),(0,s.jsx)("option",{value:10,children:"10 seconds"}),(0,s.jsx)("option",{value:30,children:"30 seconds"})]}),(0,s.jsx)("p",{className:"text-red-500 text-xs mt-1",children:null==(u=b.delay)?void 0:u.message})]}),(0,s.jsx)("button",{type:"submit",className:"mt-4 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded w-full",children:"Simulate Order"})]})}},9807:(e,t,r)=>{r.d(t,{A:()=>o});var s=r(5155);r(2115);var i=r(9708),a=r(2085),l=r(192);let d=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function n(e){let{className:t,variant:r,size:a,asChild:n=!1,...c}=e,o=n?i.DX:"button";return(0,s.jsx)(o,{"data-slot":"button",className:(0,l.cn)(d({variant:r,size:a,className:t})),...c})}let c=["Immediate","5s","10s","30s"];function o(e){let{onSelect:t,active:r}=e;return(0,s.jsx)("div",{className:"flex gap-2 mb-4",children:c.map(e=>(0,s.jsx)(n,{onClick:()=>t(e),children:e},e))})}}}]);